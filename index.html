<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>From Players to Teams: Performance Trends and Aging Patterns in Baseball History</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />


  <link rel="stylesheet" href="styles.css" />

  <script src="https://d3js.org/d3.v7.min.js"></script>

  <style>
    .chart-container {
      margin-top: 24px;
      background: #ffffff;
      border-radius: 10px;
      border: 1px solid #e5e7eb;
      padding: 16px 20px 24px;
    }

    .chart-title {
      font-weight: 600;
      margin-bottom: 8px;
    }

    .controls-inline {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      align-items: center;
      font-size: 14px;
    }

    select {
      padding: 4px 6px;
      font-size: 13px;
    }

    .slider-row {
      margin-bottom: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .metric-group {
      display: inline-flex;
      gap: 10px;
      align-items: center;
    }

    svg#linechart {
      width: 100%;
      height: 420px;
    }
  </style>

</head>
<body>

<div id="app">

  <!-- ================= HEADER ================= -->
  <header id="page-header">
    <h1>From Players to Teams: Performance Trends and Aging Patterns in Baseball History</h1>
    <p>
      This project explores how MLB performance evolves with age — both at the player level
      and the team level — and how those patterns have shifted across different eras.
      We begin by comparing elite hitters and pitchers in four major baseball eras, then zoom out
      to understand how a team's average age influences scoring and winning. Finally, we look at
      long-term league trends to contextualize how the game has changed over time.
    </p>
  </header>


  <!-- ================= SECTION 1: PLAYER ERA ================= -->
  <section id="player-section" class="panel-group">
    <div class="panel">
      <div class="controls-bar">
        <div class="toggle-group">
          <button id="view-hitters" class="toggle-btn active">Hitters</button>
          <button id="view-pitchers" class="toggle-btn">Pitchers</button>
        </div>

        <div class="toggle-group era-group">
          <button id="era-all" class="toggle-btn era-active">All</button>
          <button id="era-expansion" class="toggle-btn">Expansion</button>
          <button id="era-steroid" class="toggle-btn">Steroid</button>
          <button id="era-modern" class="toggle-btn">Modern</button>
        </div>
      </div>

      <h2 id="player-scatter-title"></h2>

      <div id="player-scatter-layout">
        <div id="player-scatter-container"></div>
        <div id="player-scatter-legend"></div>
        <p class="empty-msg" id="player-empty-msg" style="display:none;"></p>
      </div>
    <p>
    After examining how hitters and pitchers age across different eras, we expand the scope to the
    team level. The next visualization asks a bigger question: do older teams — with more experience
    and veteran-heavy rosters — actually perform better over a full MLB season?
    </p>
    </div>

  </section>




  <!-- ================= SECTION 2: TEAM AGE ================= -->
  <section id="team-section" class="panel-group">
    <div class="panel">
      <h2>Do Older Baseball Teams Perform Better?</h2>

      <p>
        We examine how average team age relates to performance using
        <strong>runs per game</strong> and <strong>win percentage</strong> from 1970–2015.
        Team age is weighted by plate appearances, so heavily-used players influence the age more
        than bench players.
      </p>

      <div class="controls-bar" id="team-controls">
        <div class="toggle-group">
          <span><strong>Metric:</strong></span>
          <button id="btn-runs" class="toggle-btn active">Runs/Game</button>
          <button id="btn-wins" class="toggle-btn">Win %</button>
        </div>

        <div class="toggle-group">
          <label for="era-select"><strong>Era:</strong></label>
          <select id="era-select">
            <option value="all">All Seasons (1970–2015)</option>
            <option value="1970-1989">1970–1989</option>
            <option value="1990-2009">1990–2009</option>
            <option value="2010-2015">2010–2015</option>
          </select>
        </div>
      </div>

      <figure>
        <svg id="team-viz" width="1000" height="580"></svg>
      </figure>


      <p class="transition-text" style="margin-top: 2rem;">
        Looking at both offensive output and win rates reveals consistent patterns in how age influences
        team performance.
      </p>

      <h3>What the results show</h3>

      <p>
        Across the full sample, team performance increases as average age rises into the late 20s.
        Runs per game peak around <strong>age 32</strong>, suggesting that offensive production benefits
        from experience but eventually declines with age. Win percentage follows the same arc:
        the best teams tend to have roster ages between <strong>29–33</strong>, after which performance
        steadily falls.
      </p>

      <p>
        These patterns highlight a “sweet spot” where physical ability, experience, and consistency align.
        Teams built around players in their late 20s to early 30s tend to perform the best overall.
      </p>

      <p>
        Taken together, the team-level data reinforces the aging curves seen at the player level:
        MLB performance peaks in the early 30s and then declines, both for individuals and for entire rosters.
      </p>

    </div>
  </section>


  <!-- ================= SECTION 3: LEAGUE PERFORMANCE (YOUR CHART) ================= -->
  <section class="panel-group">
    <div class="panel">

      <h2>League Performance Over Time</h2>

      <p style="max-width: 850px;">
        To place individual and team aging trends in context, this final visualization shows how league-wide
        performance has shifted from 1960–2015. Users can explore trends in scoring, hitting, and strikeouts
        across all teams or isolate a specific franchise. This view highlights long-term structural changes in
        baseball — from offensive spikes to rising strikeout rates — that influence how age and performance
        interact over time.
      </p>

      <div class="controls-inline">
        <div>
          <label for="leagueFilter"><strong>League:</strong></label>
          <select id="leagueFilter">
            <option value="All">All</option>
          </select>
        </div>

        <div>
          <label for="teamFilter"><strong>Team:</strong></label>
          <select id="teamFilter">
            <option value="All">All Teams</option>
          </select>
        </div>
      </div>

      <div class="chart-container">
        <div class="slider-row">
          <span><strong>Year Range:</strong></span>
          <input type="range" id="lineYearMin" value="1960">
          <input type="range" id="lineYearMax" value="2015">
          <span id="lineYearLabel"></span>
        </div>

        <div class="metric-group">
          <label><input type="radio" name="metric" value="runs" checked> Runs/Game</label>
          <label><input type="radio" name="metric" value="batting"> Hits/Game</label>
          <label><input type="radio" name="metric" value="so"> Strikeouts/Game</label>
        </div>

        <div class="chart-title" id="lineChartTitle"></div>
        <svg id="linechart"></svg>
      </div>

    </div>
  </section>

<p>
  Whether looking at hitters, pitchers, full rosters, or league-wide trends across the Expansion, Steroid, and Modern eras,
  the same pattern emerges: MLB performance rises through a player’s 20s, peaks around age 30–32, and gradually declines afterward.
  The age–performance curve holds true across eras and levels of analysis, showing that experience and physical prime consistently
  align in the early 30s.
</p>

</div>

<!-- Tooltips -->
<div id="tooltip"></div>
<div id="team-tooltip"></div>

<!-- Scripts -->
<script defer src="script.js"></script>
<script defer src="main.js"></script>

</body>
</html>
